# 💑 我们的小秘密 - 完整版（含生理期记录）

## 🎉 全部功能

### 1. 🌸 生理期记录与预测
**核心功能：**
- ✅ 记录经期开始/结束日期
- ✅ 自动计算周期
- ✅ 预测下次经期时间
- ✅ 智能状态判断（经期中/安全期/排卵期/即将来临）
- ✅ 历史记录查看
- ✅ 贴心关怀提醒

**状态说明：**
- 🌸 **经期中** - 显示第几天，提供经期护理建议
- 💚 **安全期** - 显示距离下次经期天数
- 💕 **排卵期** - 周期中间阶段提醒
- ⚠️ **即将来临** - 3天内将开始，提前提醒准备

**贴心功能：**
- 💧 多喝温水提醒
- 🌡️ 注意保暖建议
- 🍎 饮食建议
- 😴 睡眠提醒
- 🧘 运动建议
- 😊 情绪关怀

### 2. 💕 18个暧昧互动按钮
**情侣互动（12个）：**
- 💋 飞吻、🤗 抱抱、❤️ 爱你
- 🥺 想你、🌹 送花、🎁 礼物
- 🍳 做早餐、💆 按摩、🎬 看电影
- 🚶 散步、☕ 喝咖啡、😴 晚安

**快速关怀（6个）：**
- 💧 多喝水、😌 休息、🍱 吃饭
- 🌡️ 天气、🏠 安全、💪 加油

### 3. 📹 视频通话功能
- ✅ 一键发起视频通话
- ✅ 实时音视频传输
- ✅ 静音控制
- ✅ WebRTC点对点连接

### 4. 💬 实时留言板
- ✅ <1秒实时同步
- ✅ 区分你和Ta的消息
- ✅ 时间戳显示
- ✅ 回车快捷发送

### 5. 👥 在线状态检测
- ✅ 实时显示对方是否在线
- ✅ 绿点跳动表示在线
- ✅ 30秒心跳检测

---

## 🚀 快速开始

### 本地测试（5分钟）

1. **下载所有文件**
   - index.html
   - styles.css
   - app.js
   - vercel.json

2. **放在同一个文件夹**

3. **双击 index.html**

4. **输入专属ID**（例如：`test-2026`）

5. **开始使用！**

---

### 部署到Vercel（15分钟）

#### 步骤1：上传GitHub

```bash
git init
git add .
git commit -m "情侣应用完整版"
git remote add origin https://github.com/你的用户名/仓库名.git
git push -u origin main
```

#### 步骤2：Vercel部署

1. 访问 [vercel.com](https://vercel.com)
2. 登录并点击"New Project"
3. 导入GitHub仓库
4. 点击"Deploy"
5. 等待完成

#### 步骤3：分享网址

```
https://your-app.vercel.app
```

---

## 🌸 生理期功能详细说明

### 如何使用

#### 首次记录

1. **切换到"🌸 生理期"标签**
2. **点击"记录经期开始"**
3. **确认今天为开始日期**
4. **完成！**

#### 经期结束

1. **经期结束那天**
2. **点击"记录经期结束"**
3. **确认今天为结束日期**
4. **完成！**

#### 调整周期

1. **拖动周期滑块**
2. **选择21-35天**
3. **自动保存**

---

### 状态说明

#### 🌸 经期中
```
显示：第 X 天
提示：
- 注意保暖
- 多喝热水
- 避免剧烈运动
- 充足休息
```

#### 💚 安全期
```
显示：X 天后
提示：
- 保持健康生活
- 适度运动
- 均衡饮食
```

#### 💕 排卵期
```
显示：X 天后（周期中间）
提示：
- 注意身体变化
- 保持好心情
- 适当运动
```

#### ⚠️ 即将来临
```
显示：3天内
提示：
- 准备用品
- 注意情绪
- 避免生冷食物
- 保持温暖
```

---

### 自动通知

**当记录经期时：**
- 你记录 → 她立即收到"🌸 她的经期开始了"
- 实时同步 → 她能看到状态更新
- 贴心提醒 → 双方都能看到护理建议

**对方视角：**
- 看到她的当前状态
- 了解何时需要关心
- 收到自动提醒
- 准备贴心照顾

---

## 💡 使用场景

### 场景1：经期前3天

**你的操作：**
```
看到状态：⚠️ 即将来临 - 3天后
```

**你可以：**
- 点击"💧 多喝水"提醒她
- 点击"🌡️ 注意天气"关心她
- 💬 留言："宝贝，要来姨妈了，注意保暖哦~"
- 提前准备红糖、暖宝宝等

---

### 场景2：经期第1天

**她的操作：**
```
点击"记录经期开始"
```

**你立即收到：**
```
🌸 她的经期开始了
```

**你可以：**
- 📹 视频通话关心她
- 💬 留言安慰
- 🎁 送礼物（外卖、零食）
- 💆 承诺给她按摩

---

### 场景3：经期中

**她看到：**
```
🌸 经期中 - 第3天

贴心提醒：
💧 多喝温水
🌡️ 注意保暖
🍎 均衡饮食
😴 充足睡眠
```

**你可以：**
- 早上：🍳 做早餐
- 中午：🍱 记得吃饭
- 下午：💧 多喝水
- 晚上：😴 晚安

---

### 场景4：经期结束

**她的操作：**
```
点击"记录经期结束"
```

**系统自动：**
- 保存到历史记录
- 计算持续天数
- 预测下次日期
- 更新状态为安全期

---

## 📊 数据同步说明

### 实时同步

**你记录 → 她立即看到：**
```
延迟 < 1秒
```

**她记录 → 你立即看到：**
```
延迟 < 1秒
```

### 数据存储

**存储位置：**
- Firebase云端数据库
- 使用专属ID隔离
- 实时同步所有设备

**存储内容：**
```javascript
{
  records: [
    {
      startDate: "2026-01-01",
      endDate: "2026-01-05"
    }
  ],
  cycle: 28,
  currentPeriod: {
    startDate: "2026-01-28",
    endDate: null
  }
}
```

---

## 🎯 最佳实践

### 记录建议

**准确记录：**
- ✅ 每次经期开始立即记录
- ✅ 经期结束也要记录
- ✅ 调整准确的周期天数
- ❌ 不要漏记或延迟记录

**周期调整：**
```
标准周期：28天
常见范围：21-35天

如何调整：
1. 连续记录2-3个月
2. 计算平均周期
3. 拖动滑块调整
```

---

### 关怀建议

**经期前（3天内）：**
- 提前准备用品
- 提醒注意保暖
- 准备红糖水
- 少吃生冷食物

**经期中：**
- 多喝热水
- 避免剧烈运动
- 注意休息
- 温柔对待

**经期后：**
- 补充营养
- 适度运动
- 保持心情愉快

---

## 🔧 常见问题

### Q1: 经期记录准确吗？

**A:** 准确度取决于：
- ✅ 记录是否及时
- ✅ 周期设置是否准确
- ✅ 个人周期是否规律

**提高准确度：**
1. 每次都及时记录
2. 连续记录3个月以上
3. 根据实际调整周期
4. 定期review历史记录

---

### Q2: 预测不准怎么办？

**A:** 预测基于平均周期，可能有偏差。

**解决方法：**
1. 调整周期设置
2. 多记录几个月
3. 参考历史记录
4. 配合身体感受

**注意：**
- 周期不规律很正常
- 预测仅供参考
- 有异常请就医

---

### Q3: 可以删除记录吗？

**A:** 当前版本不支持删除，未来会添加。

**临时方案：**
- 点击"⚙️ 设置"
- 点击"更改专属ID"
- 重新开始记录

---

### Q4: 数据会丢失吗？

**A:** 不会！

**数据安全：**
- ✅ 存储在Firebase云端
- ✅ 自动实时备份
- ✅ 换设备也能同步
- ✅ 只要专属ID不变就能找回

---

## 💝 贴心功能

### 自动提醒

**经期前3天：**
```
⚠️ 即将来临

系统会：
- 显示倒计时
- 更新状态卡片
- 提供准备建议
```

**经期中：**
```
🌸 经期中 - 第X天

系统会：
- 显示当前天数
- 提供护理建议
- 支持快速互动
```

---

### 护理建议

**饮食建议：**
- 🍎 多吃水果蔬菜
- 🥛 补充铁质和钙
- 🍵 喝红糖姜茶
- ❌ 避免生冷辛辣

**运动建议：**
- ✅ 轻度散步
- ✅ 温和瑜伽
- ❌ 避免剧烈运动
- ❌ 不要游泳

**生活建议：**
- 😴 充足睡眠（7-8小时）
- 🌡️ 注意保暖
- 💧 多喝温水
- 😊 保持心情愉快

---

## 📱 推荐使用

### iPhone
```
Safari 打开 → 分享 → 添加到主屏幕
```

### Android
```
Chrome 打开 → 菜单 → 添加到主屏幕
```

**好处：**
- 📱 像App一样使用
- 🚀 打开速度快
- 🔔 消息提醒
- 💾 自动保存状态

---

## 🎊 完整功能列表

### ✅ 已实现
- [x] 生理期记录
- [x] 周期预测
- [x] 智能状态判断
- [x] 历史记录
- [x] 18个互动按钮
- [x] 视频通话
- [x] 实时留言
- [x] 在线状态
- [x] 贴心提醒

### 🚧 即将推出
- [ ] 症状记录（痛经、情绪等）
- [ ] 图表分析
- [ ] 月度报告
- [ ] 纪念日倒数
- [ ] 照片相册
- [ ] 音频留言

---

## 💕 温馨提示

### 使用建议

**记录习惯：**
- 每次经期开始立即记录
- 经期结束也要记录
- 定期查看历史记录
- 根据实际调整周期

**关怀建议：**
- 经期前3天开始关心
- 经期中多点陪伴
- 不要开玩笑
- 真诚温柔对待

**隐私保护：**
- 不要把专属ID告诉别人
- 使用复杂的ID
- 不在公共设备登录

---

## 🎉 开始使用吧！

**现在就：**
1. 部署应用
2. 配置专属ID
3. 记录第一次经期
4. 享受贴心功能

**祝你们幸福美满！💑💕**

---

## 📞 技术支持

遇到问题？
- 查看本文档
- 检查Firebase配置
- 确认网络连接
- 重启应用试试

---

**Made with ❤️ for couples**
